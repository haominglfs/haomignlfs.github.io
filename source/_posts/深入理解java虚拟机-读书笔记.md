---
title: 深入理解java虚拟机-读书笔记
date: 2018-11-27 16:38:32
tags:
---

1.局部变量表存放了编译期可知的各种基本数据类型(boolean\byte\char\short\int\float\long\double)、对象引用（reference类型，它不等同于对象本身，可能是一个指向对象起始地址的引用指针，也可能是指向一个代表对象的句柄或其他与此对象相关的位置)和returnAddress类型(指向了一条字节码指令的地址)。

其中64位长度的long和double类型的数据会占用两个局部变量空间(slot),其余的数据类型只占用一个。局部变量表所需的内存空间在编译期间完成分配，当进入一个方法时，这个方法需要在帧中分配多大的局部变量空间是完全确定的，在方法运行期间不会改变局部变量表的大小。

在java虚拟机规范中，这个区域规定了两种异常状况：

 	1. 如果线程请求的栈深度大于虚拟机所允许的深度，将抛出StackOverFlow异常；
 	2. 如果栈可以动态扩展，如果扩展时无法申请到足够的内存，就会抛出OutOfMemoryError异常。